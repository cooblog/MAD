<!doctype html><html lang="en"><head><meta charSet="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Veera's Internship, Week 8: Drawing Board | Engineering at MAD – Digital Product Studio</title><meta name="description" content="Now that we had a nice app architecture, it was time to sketch the room interiors further. I really enjoyed going back to prototyping on paper, just like I did throughout my studies at Goldsmiths:" /><meta property="og:url" content="https://www.mad.ac/" /><meta property="og:title" content="Veera's Internship, Week 8: Drawing Board | Engineering at MAD – Digital Product Studio" /><meta property="og:description" content="Now that we had a nice app architecture, it was time to sketch the room interiors further. I really enjoyed going back to prototyping on paper, just like I did throughout my studies at Goldsmiths:" /><meta property="og:image" content="https://mad.ac/images/social/mad-engineering-og-light.png" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@createdbymad" /><meta name="twitter:creator" content="@createdbymad" /><link rel="icon" href="../../favicon.ico" /><link rel="icon" href="../../favicon.svg" type="image/svg+xml" /><link rel="apple-touch-icon" href="../../apple-touch-icon.png" /><link rel="manifest" href="../../manifest.json" /><link rel="alternate" href="../feed.xml" type="application/rss+xml" title="MAD Engineering Blog Feed (RSS)" /><link rel="alternate" href="../feed.json" type="application/json" title="MAD Engineering Blog Feed (JSON)" /><link rel="preload" href="../../fonts/GT-MaruBeta-Bold.woff2" as="font" type="font/woff2" crossOrigin="true" /><link rel="preload" href="../../fonts/GT-MaruBeta-Regular.woff2" as="font" type="font/woff2" crossOrigin="true" /><link rel="stylesheet" href="../../styles/main%EF%B9%96v=431300964a77750d3c621bffa45c154cb1e8582c.css" /><script src="https://cdn.usefathom.com/script.js" data-site="ZUYODAUJ" defer></script></head><body class="blog font-serif"><header class="blog-header"><p class="blog-intro">Welcome to <a href="../../engineering.html">Engineering at MAD</a>. A space for creative tech, with words directly from our engineers.</p><nav class="blog-nav"><div class="blog-nav-home"><a href="../../index.html">mad.ac</a></div><div class="blog-nav-feeds"><a href="../feed.xml">Atom</a><a href="../feed.json">JSON</a></div></nav></header><main class="blog-content"><article class="post copy flow"><h1 class="post-title">Veera's Internship, Week 8: Drawing Board</h1><p class="post-byline"><span class="post-date">02/06/2021</span><span class="post-author">By <a href="../../team/veera.html">Veera Jussila</a></span></p><div class="post-content copy flow"><ul>
<li><a href="veera-intern-blog-week-1.html">Week 1: Intern&#39;s Greetings!</a></li>
<li><a href="veera-intern-blog-week-2.html">Week 2: Refining the MVP</a></li>
<li><a href="veera-intern-blog-week-3.html">Week 3: Diving Into Shaders</a></li>
<li><a href="veera-intern-blog-week-4.html">Week 4: From 2D to 3D</a></li>
<li><a href="veera-intern-blog-week-5.html">Week 5: Back to Inspiration Images</a></li>
<li><a href="veera-intern-blog-week-6.html">Week 6: Blended Approach</a></li>
<li><a href="veera-intern-blog-week-7.html">Week 7: Restructuring the Project</a></li>
</ul>
<p>Now that we had a nice app architecture, <a href="../../team/nikolai.html">Nikolai</a> advised me to sketch the room&#39;s interiors further. We needed to have an idea of the essential elements of the room. I really enjoyed going back to prototyping on paper, just like I did throughout my studies at Goldsmiths:</p>
<p><img loading="lazy" src="../../media/1024/images/engineering/veera-intern-blog-week-8/sketch1.jpg" srcset="https://mad.ac/media/512/images/engineering/veera-intern-blog-week-8/sketch1.jpg 512w,../../media/1024/images/engineering/veera-intern-blog-week-8/sketch1.jpg 1024w,../../media/2048/images/engineering/veera-intern-blog-week-8/sketch1.jpg 2048w,../../media/3072/images/engineering/veera-intern-blog-week-8/sketch1.jpg 3072w,https://mad.ac/media/4096/images/engineering/veera-intern-blog-week-8/sketch1.jpg 4096w" sizes="(min-width: 1660px) 1100px, (min-width: 1000px) calc(100vw - 560px), 100vw" alt="Room sketch, round" />
<img loading="lazy" src="../../media/1024/images/engineering/veera-intern-blog-week-8/sketch2.jpg" srcset="https://mad.ac/media/512/images/engineering/veera-intern-blog-week-8/sketch2.jpg 512w,../../media/1024/images/engineering/veera-intern-blog-week-8/sketch2.jpg 1024w,../../media/2048/images/engineering/veera-intern-blog-week-8/sketch2.jpg 2048w,../../media/3072/images/engineering/veera-intern-blog-week-8/sketch2.jpg 3072w,https://mad.ac/media/4096/images/engineering/veera-intern-blog-week-8/sketch2.jpg 4096w" sizes="(min-width: 1660px) 1100px, (min-width: 1000px) calc(100vw - 560px), 100vw" alt="Room sketch, cube" />
<img loading="lazy" src="../../media/1024/images/engineering/veera-intern-blog-week-8/sketch3.jpg" srcset="https://mad.ac/media/512/images/engineering/veera-intern-blog-week-8/sketch3.jpg 512w,../../media/1024/images/engineering/veera-intern-blog-week-8/sketch3.jpg 1024w,../../media/2048/images/engineering/veera-intern-blog-week-8/sketch3.jpg 2048w,../../media/3072/images/engineering/veera-intern-blog-week-8/sketch3.jpg 3072w,https://mad.ac/media/4096/images/engineering/veera-intern-blog-week-8/sketch3.jpg 4096w" sizes="(min-width: 1660px) 1100px, (min-width: 1000px) calc(100vw - 560px), 100vw" alt="Room sketch, another cube" /></p>
<p>I also collected a few Shadertoy examples that captured the simple but intriguing visuals that I was after. These examples are based on fragment shaders and buffers, not Three.js, but I wanted to share them with Nikolai as a visual reference:</p>
<ul>
<li><a href="https://www.shadertoy.com/view/3tBGzW">Ball Room Dance</a> by shau</li>
<li><a href="https://www.shadertoy.com/view/4sS3zc">Mirror Room</a> by DiLemming</li>
<li><a href="https://www.shadertoy.com/view/MldGDl">PBR Column Room</a> by geoff</li>
<li><a href="https://www.shadertoy.com/view/4sdSDs">Reality Warp</a> by tomaes</li>
<li><a href="https://www.shadertoy.com/view/lsjczK">Mirror room</a> by Yrau</li>
<li><a href="https://www.shadertoy.com/view/4ssBWr">Grey Room</a> by lz</li>
<li><a href="https://www.shadertoy.com/view/Xscyz7">Dobrar a meta</a> by mmutai</li>
</ul>
<h2 id="getting-all-the-tweets">Getting All the Tweets</h2>
<p>On the Flask side, I was looking into <a href="https://docs.tweepy.org/en/latest/api.html">Tweepy API</a> docs. As a default, Tweepy’s <code>api.user_timeline</code> returns 200 newest tweets from an account. However, I want all the tweets from a certain account, and possibly the ability to filter them based on date. I did some research on Stackoverflow and found that Tweepy’s <code>Cursor</code> object is a way to achieve this.</p>
<p>Before:</p>
<pre><code class="language-python">posts <span class="token operator">=</span> api<span class="token punctuation">.</span>user_timeline<span class="token punctuation">(</span>screen_name<span class="token operator">=</span>username<span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span> lang <span class="token operator">=</span><span class="token string">"en"</span><span class="token punctuation">,</span> tweet_mode<span class="token operator">=</span><span class="token string">"extended"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> tweet <span class="token keyword">in</span> posts<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">199</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    cleanedText <span class="token operator">=</span> cleanTxt<span class="token punctuation">(</span>tweet<span class="token punctuation">.</span>full_text<span class="token punctuation">)</span>
</code></pre>
<p>After:</p>
<pre><code class="language-python"><span class="token keyword">for</span> tweet <span class="token keyword">in</span> tweepy<span class="token punctuation">.</span>Cursor<span class="token punctuation">(</span>api<span class="token punctuation">.</span>user_timeline<span class="token punctuation">,</span> screen_name<span class="token operator">=</span>username<span class="token punctuation">,</span> tweet_mode<span class="token operator">=</span><span class="token string">"extended"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># Returns all the tweets</span>
    cleanedText <span class="token operator">=</span> cleanTxt<span class="token punctuation">(</span>tweet<span class="token punctuation">.</span>full_text<span class="token punctuation">)</span>
</code></pre>
<p>This worked, however, it had a major impact on the performance. Whereas <code>api.user_timeline</code> returns 200 tweets almost instantly, <code>Cursor</code> object might spend one minute extracting thousands of tweets from the account. Even when limiting the number of tweets to 500, the process is very slow. This is something that needs to be solved when I focus more on the data side of the project again.</p>
<p>By using our new project structure, we built a very simple starter scene with Nikolai. It has walls and a bunch of spheres and cubes. We agreed that I take some time to build a GUI for the scene and to create “organic” random numbers. For example, I might want to place a plant on the floor and within a certain distance from the left wall, but not always at the same x,y,z position.</p>
<p>I was able to build a simple GUI to control minimum and maximum position coordinates and minimum and the number of spheres or cubes that would be generated. I also studied some Perlin noise <a href="https://gist.github.com/pkorac/bfcc434d2986a27a3e1f">implementations</a> in order to map noise values from 0 to 1 to bigger distances in the room. With Nikolai, we went through the code that I had so far. To make the visual experiments easier, I wanted the app to remember the newest GUI settings instead of returning to default values with every page refresh. The solution was this:</p>
<pre><code class="language-javascript"><span class="token keyword">const</span> saved <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"params"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">"{}"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
  minSpheres<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  maxSpheres<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  minX<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span>
  minY<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span>
  maxX<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  maxY<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  minZ<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span>
  maxZ<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  minRadius<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  maxRadius<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>saved
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"params"</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr>
</div><footer class="post-footer"><img class="post-footer-image" src="../../images/team/veera.png" alt width="120" height="120" /><p>By <a href="../../team/veera.html">Veera Jussila</a></p><p>02/06/2021</p></footer></article></main></body></html>