<!doctype html><html lang="en"><head><meta charSet="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Veera's Internship, Week 11: Different Room Types | Engineering at MAD – Digital Product Studio</title><meta name="description" content="I started the week by deciding and sketching three different room types: a pastel room, room with neutral colors and room with dark interior. I also decided that each room has a sculpture. " /><meta property="og:url" content="https://www.mad.ac/" /><meta property="og:title" content="Veera's Internship, Week 11: Different Room Types | Engineering at MAD – Digital Product Studio" /><meta property="og:description" content="I started the week by deciding and sketching three different room types: a pastel room, room with neutral colors and room with dark interior. I also decided that each room has a sculpture. " /><meta property="og:image" content="https://mad.ac/images/social/mad-engineering-og-light.png" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@createdbymad" /><meta name="twitter:creator" content="@createdbymad" /><link rel="icon" href="../../favicon.ico" /><link rel="icon" href="../../favicon.svg" type="image/svg+xml" /><link rel="apple-touch-icon" href="../../apple-touch-icon.png" /><link rel="manifest" href="../../manifest.json" /><link rel="alternate" href="../feed.xml" type="application/rss+xml" title="MAD Engineering Blog Feed (RSS)" /><link rel="alternate" href="../feed.json" type="application/json" title="MAD Engineering Blog Feed (JSON)" /><link rel="preload" href="../../fonts/GT-MaruBeta-Bold.woff2" as="font" type="font/woff2" crossOrigin="true" /><link rel="preload" href="../../fonts/GT-MaruBeta-Regular.woff2" as="font" type="font/woff2" crossOrigin="true" /><link rel="stylesheet" href="../../styles/main%EF%B9%96v=431300964a77750d3c621bffa45c154cb1e8582c.css" /><script src="https://cdn.usefathom.com/script.js" data-site="ZUYODAUJ" defer></script></head><body class="blog font-serif"><header class="blog-header"><p class="blog-intro">Welcome to <a href="../../engineering.html">Engineering at MAD</a>. A space for creative tech, with words directly from our engineers.</p><nav class="blog-nav"><div class="blog-nav-home"><a href="../../index.html">mad.ac</a></div><div class="blog-nav-feeds"><a href="../feed.xml">Atom</a><a href="../feed.json">JSON</a></div></nav></header><main class="blog-content"><article class="post copy flow"><h1 class="post-title">Veera's Internship, Week 11: Different Room Types</h1><p class="post-byline"><span class="post-date">10/06/2021</span><span class="post-author">By <a href="../../team/veera.html">Veera Jussila</a></span></p><div class="post-content copy flow"><ul>
<li><a href="veera-intern-blog-week-1.html">Week 1: Intern&#39;s Greetings!</a></li>
<li><a href="veera-intern-blog-week-2.html">Week 2: Refining the MVP</a></li>
<li><a href="veera-intern-blog-week-3.html">Week 3: Diving Into Shaders</a></li>
<li><a href="veera-intern-blog-week-4.html">Week 4: From 2D to 3D</a></li>
<li><a href="veera-intern-blog-week-5.html">Week 5: Back to Inspiration Images</a></li>
<li><a href="veera-intern-blog-week-6.html">Week 6: Blended Approach</a></li>
<li><a href="veera-intern-blog-week-7.html">Week 7: Restructuring the Project</a></li>
<li><a href="veera-intern-blog-week-8.html">Week 8: Drawing Board</a></li>
<li><a href="veera-intern-blog-week-9.html">Week 9: Arranging Furniture</a></li>
<li><a href="veera-intern-blog-week-10.html">Week 10: Materials and Classes</a></li>
</ul>
<p>I started the week by deciding and sketching three different room types: a pastel room, room with neutral colors and room with dark interior. At this stage, these categories are based on the positivity or negativity of the account. The material of the walls is simply decided with if statements:</p>
<pre><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>avgTone <span class="token operator">&lt;</span> <span class="token number">0.095</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  wallMat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DarkMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token number">0x3d3b3d</span><span class="token punctuation">,</span>
    emissive<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span>lightness<span class="token punctuation">,</span> lightness<span class="token punctuation">,</span> lightness<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Within <code>DarkMaterial</code>, I&#39;m altering the final shade with variable <code>lightness</code>. I&#39;m mapping the number of negative tweets to a value between 0 and 1 that works well when determining the RGB of the emissive color. With the room with neutral or pastel colors, I&#39;m mapping the number of neutral or positive tweets respectively.</p>
<p>I also decided that each room has a sculpture. Currently, whether the sculpture is modern or traditional depends on if the word &quot;future&quot; is mentioned on the account. If the sculpture is modern, it might be round or have sharp edges, again depending on the profile. The room also has something to sit on: depending on some data, I’ll be switching between soft pillows and a modern chair.</p>
<p><img loading="lazy" src="../../media/1024/images/engineering/veera-intern-blog-week-11/sunlight2.png" srcset="../../media/512/images/engineering/veera-intern-blog-week-11/sunlight2.png 512w,../../media/1024/images/engineering/veera-intern-blog-week-11/sunlight2.png 1024w,../../media/2048/images/engineering/veera-intern-blog-week-11/sunlight2.png 2048w,../../media/3072/images/engineering/veera-intern-blog-week-11/sunlight2.png 3072w,../../media/4096/images/engineering/veera-intern-blog-week-11/sunlight2.png 4096w" sizes="(min-width: 1660px) 1100px, (min-width: 1000px) calc(100vw - 560px), 100vw" alt="Pink room with plants and pillows" /></p>
<p>With the sculptures, pillows and chair, I’m bringing glTF models back to my app by using some free and lightweight models from <a href="https://sketchfab.com/">Sketchfab</a>. The models you can see on this post are by <a href="https://sketchfab.com/3d-models/modern-dining-chair-cf43cd4a84e044fd9830d3a5969fb19f">Johnson Martin</a>, <a href="https://sketchfab.com/3d-models/pillow-917f876032864a4d9719a20c8fa5f492">karymeh3d</a>, <a href="https://sketchfab.com/3d-models/head-of-david-but-with-hay-585af747e89f4e78afda322c487a5059">doubletwisted</a> and <a href="https://sketchfab.com/3d-models/deformed-ball-4e92e4edb588403d8f5955ad88d2a798">Aiekick</a>.</p>
<pre><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>avgTone <span class="token operator">></span> <span class="token number">0.2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>
    <span class="token string">"/static/pillow/scene.gltf"</span><span class="token punctuation">,</span>

    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">gltf</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      gltf<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">traverse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">.</span>isMesh<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          child<span class="token punctuation">.</span>material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            color<span class="token operator">:</span> <span class="token number">0x75b9db</span><span class="token punctuation">,</span>
            emissive<span class="token operator">:</span> <span class="token number">0x8b82a5</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          child<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gltf<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span>
      gltf<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
      gltf<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">110</span><span class="token punctuation">;</span>
      gltf<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.85</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      gltf<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>scale<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10.5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>gltf<span class="token punctuation">.</span>scene<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Additionally, the scene now uses a sky and sun shader based on this <a href="https://threejs.org/examples/webgl_shaders_sky.html">Three.js example</a>.</p>
<h2 id="setting-the-lights">Setting the Lights</h2>
<p>Sometimes the room does not have a plant. In this experiment, when the tone of the account is negative enough, the plant is replaced with a small pool instead:</p>
<p><img loading="lazy" src="../../media/1024/images/engineering/veera-intern-blog-week-11/pool.png" srcset="../../media/512/images/engineering/veera-intern-blog-week-11/pool.png 512w,../../media/1024/images/engineering/veera-intern-blog-week-11/pool.png 1024w,../../media/2048/images/engineering/veera-intern-blog-week-11/pool.png 2048w,../../media/3072/images/engineering/veera-intern-blog-week-11/pool.png 3072w,../../media/4096/images/engineering/veera-intern-blog-week-11/pool.png 4096w" sizes="(min-width: 1660px) 1100px, (min-width: 1000px) calc(100vw - 560px), 100vw" alt="Pool with sunlight" /></p>
<p>Here we can see another difference: sunlight!</p>
<p>This week, both I and <a href="../../team/nikolai.html">Nikolai</a> spent a lot of time studying the lights in Three.js. Some good resources:</p>
<ul>
<li><a href="https://discoverthreejs.com/book/first-steps/physically-based-rendering/">Discover three.js</a></li>
<li><a href="https://redstapler.co/threejs-realistic-light-shadow-tutorial/">Red Stapler</a></li>
<li><a href="https://www.youtube.com/watch?v=T6PhV4Hz0u4/">SimonDev</a></li>
<li><a href="https://sundaysundae.co/how-to-make-low-poly-look-good/">Sunday Sundae</a></li>
<li><a href="https://threejsfundamentals.org/threejs/lessons/threejs-lights.html">Three.js Fundamentals</a></li>
</ul>
<p>In the current setup, I have one <code>AmbientLight</code> giving a general, soft lightning to the room. It doesn&#39;t create shadows and it has no direction. Second, there is a <code>PointLight</code> in the ceiling that behaves a bit like a lightbulb. There is also a <code>Spotligt</code> directed at the plant and the vase. Finally, my favorite: a yellow <code>RectArea</code> light that is basically a plane that simulates sunlight right where the window is.</p>
<p>Lights and materials proved to be a huge topic as, for example, plants using <code>PhongMaterial</code> went black when combined with the <code>physicallyCorrectLights</code> setting that worked well with <code> StandardMaterial</code>.</p>
<p><a href="../../team/nicholas.html">Nicholas</a> joined one of our sessions and gave good feedback on the visuals. For example, he suggested that the loud patterns of the floor could be used on smaller object instead so that objects on the floor are able to stand out. I agree; the floor patterns can easily be used to create an abstract painting.</p>
<hr>
</div><footer class="post-footer"><img class="post-footer-image" src="../../images/team/veera.png" alt width="120" height="120" /><p>By <a href="../../team/veera.html">Veera Jussila</a></p><p>10/06/2021</p></footer></article></main></body></html>